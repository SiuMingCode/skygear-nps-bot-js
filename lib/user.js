'use strict';

const Team = require('./team');

class User {
  constructor(id, teamID) {
    this.id = id;
    this.teamID = teamID;
  }

  get isAdmin() {
    return Team.of(this.teamID).then(team => {
      if (team) {
        return team.bot.fetchUser(this.id).then(user => user.is_admin);
      } else {
        throw new Error(`${this.teamID} doest not exist`);
      }
    });
  }
}

module.exports = User;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy91c2VyLmpzIl0sIm5hbWVzIjpbIlRlYW0iLCJyZXF1aXJlIiwiVXNlciIsImNvbnN0cnVjdG9yIiwiaWQiLCJ0ZWFtSUQiLCJpc0FkbWluIiwib2YiLCJ0aGVuIiwidGVhbSIsImJvdCIsImZldGNoVXNlciIsInVzZXIiLCJpc19hZG1pbiIsIkVycm9yIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxPQUFPQyxRQUFRLFFBQVIsQ0FBYjs7QUFFQSxNQUFNQyxJQUFOLENBQVc7QUFDVEMsY0FBYUMsRUFBYixFQUFpQkMsTUFBakIsRUFBeUI7QUFDdkIsU0FBS0QsRUFBTCxHQUFVQSxFQUFWO0FBQ0EsU0FBS0MsTUFBTCxHQUFjQSxNQUFkO0FBQ0Q7O0FBRUQsTUFBSUMsT0FBSixHQUFlO0FBQ2IsV0FBT04sS0FBS08sRUFBTCxDQUFRLEtBQUtGLE1BQWIsRUFBcUJHLElBQXJCLENBQTBCQyxRQUFRO0FBQ3ZDLFVBQUlBLElBQUosRUFBVTtBQUNSLGVBQU9BLEtBQUtDLEdBQUwsQ0FBU0MsU0FBVCxDQUFtQixLQUFLUCxFQUF4QixFQUE0QkksSUFBNUIsQ0FBaUNJLFFBQVFBLEtBQUtDLFFBQTlDLENBQVA7QUFDRCxPQUZELE1BRU87QUFDTCxjQUFNLElBQUlDLEtBQUosQ0FBVyxHQUFFLEtBQUtULE1BQU8sa0JBQXpCLENBQU47QUFDRDtBQUNGLEtBTk0sQ0FBUDtBQU9EO0FBZFE7O0FBaUJYVSxPQUFPQyxPQUFQLEdBQWlCZCxJQUFqQiIsImZpbGUiOiJ1c2VyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgVGVhbSA9IHJlcXVpcmUoJy4vdGVhbScpXG5cbmNsYXNzIFVzZXIge1xuICBjb25zdHJ1Y3RvciAoaWQsIHRlYW1JRCkge1xuICAgIHRoaXMuaWQgPSBpZFxuICAgIHRoaXMudGVhbUlEID0gdGVhbUlEXG4gIH1cblxuICBnZXQgaXNBZG1pbiAoKSB7XG4gICAgcmV0dXJuIFRlYW0ub2YodGhpcy50ZWFtSUQpLnRoZW4odGVhbSA9PiB7XG4gICAgICBpZiAodGVhbSkge1xuICAgICAgICByZXR1cm4gdGVhbS5ib3QuZmV0Y2hVc2VyKHRoaXMuaWQpLnRoZW4odXNlciA9PiB1c2VyLmlzX2FkbWluKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAke3RoaXMudGVhbUlEfSBkb2VzdCBub3QgZXhpc3RgKVxuICAgICAgfVxuICAgIH0pXG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBVc2VyXG4iXX0=